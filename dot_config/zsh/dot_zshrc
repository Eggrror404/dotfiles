#
# Sourcing files
#
source "$HOME/.local/share/miniplug/miniplug.zsh"
for file in $ZDOTDIR/lib/{*.zsh,*.sh}(N); do
    [ -r $file ] && source $file
done

#
# Load plugins with miniplug
#
miniplug plugin 'ael-code/zsh-colored-man-pages'
miniplug plugin 'reegnz/jq-zsh-plugin'
miniplug plugin 'hlissner/zsh-autopair'
miniplug plugin 'b4b4r07/emoji-cli'
miniplug plugin 'zsh-users/zsh-completions'
miniplug plugin 'zsh-users/zsh-autosuggestions'
miniplug plugin 'zsh-users/zsh-syntax-highlighting'
# zsh-syntax-highlighting must be the last plugin sourced
miniplug theme 'romkatv/powerlevel10k'

miniplug load

autoload -Uz compinit && compinit -C
zstyle -e ':autocomplete:*' list-lines 'reply=( $(( LINES / 8 )) )'

#
# Options
#
HISTSIZE=100000
ZSH_AUTOSUGGEST_STRATEGY=( completion history )

#
# Aliases
#
alias yarn='yarn --use-yarnrc "$XDG_CONFIG_HOME/yarn/config"'
alias vimdiff='nvim -d'

# Powerlevel10k theming
if [[ "$(tty)" =~ "/dev/tty[1-9]" ]]; then
    [[ ! -f $ZDOTDIR/.p10k-tty.zsh ]] || source $ZDOTDIR/.p10k-tty.zsh
else
    [[ ! -f $ZDOTDIR/.p10k.zsh ]] || source $ZDOTDIR/.p10k.zsh
fi
