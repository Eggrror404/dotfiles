# Load plugins with miniplug
source "$HOME/.local/share/miniplug/miniplug.zsh"

miniplug plugin 'ael-code/zsh-colored-man-pages'
miniplug plugin 'reegnz/jq-zsh-plugin'
miniplug plugin 'hlissner/zsh-autopair'
miniplug plugin 'b4b4r07/emoji-cli'

miniplug plugin 'zsh-users/zsh-completions'
miniplug plugin 'zsh-users/zsh-autosuggestions'
miniplug plugin 'zsh-users/zsh-syntax-highlighting'
# zsh-syntax-highlighting must be the last plugin sourced

# load theme
miniplug theme 'romkatv/powerlevel10k'

miniplug load

# Compinit
autoload -Uz compinit && compinit -C

# Options
ZSH_AUTOSUGGEST_STRATEGY=( completion history )

# Aliases
alias yarn='yarn --use-yarnrc "$XDG_CONFIG_HOME/yarn/config"'
alias vimdiff='nvim -d'

# Powerlevel10k theming
if [[ "$(tty)" =~ "/dev/tty[1-9]" ]]; then
    echo "is on tty"
    [[ ! -f $ZDOTDIR/.p10k-tty.zsh ]] || source $ZDOTDIR/.p10k-tty.zsh
else
    [[ ! -f $ZDOTDIR/.p10k.zsh ]] || source $ZDOTDIR/.p10k.zsh
fi
